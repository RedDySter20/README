# MineNopoly

Плагин для Minecraft на базе Spigot (Bukkit), который добавляет автоматизированный банк Monopoly в игру.

## Особенности

- Функциональность банка Monopoly с использованием сундука (`chest`), бочки (`barrel`) или любого `shulker_box`, в которые помещаются и извлекаются игровые предметы.
- Поддержка локализации игры для США, Великобритании и России.
- Отслеживание баланса игроков с использованием таблицы результатов (scoreboard).
- Случайная карта _Chance_ и _Community chest_.
- Реализация _домов_ (Houses) с использованием `sea_pickles` (их можно размещать до четырех на одном блоке).
- _Отелей_ (Hotels) можно сразу сломать без инструментов, используя блок `lantern`.
- Сразу можно сломать блок `player_head` (предполагается, что это игровые фишки).
- Книга со ссылками для получения игровых предметов, списком и описаниями всех игровых свойств.
- Встроенный рандомизатор для кубиков.
- Защита от разрушения блока банка; защита от потребления/размещения игровых предметов.
- Защита игровых предметов от подделки через [NBT данные](https://minecraft.fandom.com/wiki/NBT_format).

## Использование

### Как играть?

Просто создайте игровое поле, разместите сундук (может быть также бочкой или `shulker_box`) где-нибудь и вызовите команду `/mn start <координаты сундука>`!
Для получения и изъятия игровых предметов используйте [игровые записи чата](#Допустимые-записи-чата-в-игре) и книгу, которую можно получить с помощью команды `/mn book <локализация>`.
_Дома_ и _Отели_ предназначены для размещения на улицах; все остальные предметы предназначены только для хранения в инвентаре и передачи между игроками.
Чтобы завершить игру, верните все игровые предметы в банк (и введите `--` для их удаления) и вызовите команду `/mn finish`; если вы не можете вернуть их, один из операторов сервера (по умолчанию) должен вызвать `/mn finish forced`.

### Команды

`/minenopoly` - это основная команда плагина, которая имеет алиас `/mn`.

| Команда                | Описание                                                                   |
|------------------------|----------------------------------------------------------------------------|
| `/mn help [команда]`   | Показать справку для указанной команды, либо список доступных команд       |
| `/mn book <лок>`       | Получить книгу для использования во время игры                             |
| `/mn start <блок>`     | Начать игру (отслеживание чата, таблица результатов и т. д.) с указанным блоком в качестве банка |
| `/mn finish`           | Завершить игру                                                             |
| `/mn finish forced`    | Завершить игру даже если все игровые предметы не были возвращены           |
| `/mn reload`           | Перезагрузить конфигурацию                                                 |
| `/mn get <аргументы>`  | Вспомогательная команда для использования при клике по ссылкам в книге     |

### Допустимые записи чата в игре

_Примечание:_ Доступно только во время игры.

| Запись чата | Описание                                                                 |
|-------------|--------------------------------------------------------------------------|
| `+<число>`  | Положить указанное количество игровых денег в банк                         |
| `-<число>`  | Изъять указанное количество игровых денег из банка (с сдачей при необходимости) |
| `--`        | Удалить все игровые предметы из банка (использованные действия, проданные свойства и т. д.) |
| `?`         | Бросить кубики (показать два случайных числа от 1 до 6)                   |

## Конфигурация ([по умолчанию](/src/main/resources/config.yml))

- Расстояние в игре (см. файл конфигурации для объяснения)
- Игровые деньги (и их номиналы)
- Сообщения плагина
  - информационные
  - ошибки
  - справка

## Права доступа (Permissions)

| Нода разрешения         | По умолчанию | Описание                                                            |
|-------------------------|--------------|--------------------------------------------------------------------|
| `minenopoly.help`       | true         | Позволяет использовать `/mn help` (показать список доступных команд) |
| `minenopoly.get`        | true         | Позволяет использовать `/mn get` и записи чата (в основном позволяет играть) |
| `minenopoly.book`       | true         | Позволяет использовать `/mn book`                                    |
| `minenopoly.start`      | true         | Позволяет использовать `/mn start`                                   |
| `minenopoly.finish`     | true         | Позволяет использовать `/mn finish` (без аргумента `forced`)       |
| `minenopoly.finish.forced` | op        | Позволяет использовать `/mn finish forced`                          |
| `minenopoly.reload`     | op           | Позволяет использовать `/mn reload`
